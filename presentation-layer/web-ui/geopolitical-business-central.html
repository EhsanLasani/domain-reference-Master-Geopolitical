<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LASANI Platform - Reference Master Geopolitical</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f8f9fa; overflow: hidden; }
        
        /* Top Header */
        .top-header {
            background: #0078d4;
            color: white;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
        }
        .company-name { font-size: 14px; font-weight: 600; }
        .nav-tabs { display: flex; gap: 24px; font-size: 13px; }
        .nav-tab { color: #ffffff; cursor: pointer; padding: 4px 8px; }
        .nav-tab.active { background: rgba(255,255,255,0.2); border-radius: 2px; }
        
        /* Action Bar */
        .action-bar {
            background: white;
            border-bottom: 1px solid #e1dfdd;
            padding: 8px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
        }
        .page-title { font-weight: 600; margin-right: 16px; }
        .action-btn {
            background: white;
            border: 1px solid #8a8886;
            padding: 4px 12px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 13px;
        }
        .action-btn:hover { background: #f3f2f1; }
        .action-btn.primary { background: #0078d4; color: white; border-color: #0078d4; }
        
        /* Main Layout */
        .main-layout { display: flex; height: calc(100vh - 96px); }
        
        /* Left Filter Panel */
        .filter-panel {
            width: 240px;
            background: white;
            border-right: 1px solid #e1dfdd;
            overflow-y: auto;
        }
        .filter-header {
            padding: 12px 16px;
            border-bottom: 1px solid #e1dfdd;
            font-weight: 600;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .close-btn { cursor: pointer; color: #605e5c; }
        .filter-section { padding: 12px 16px; border-bottom: 1px solid #f3f2f1; }
        .filter-item {
            display: flex;
            align-items: center;
            padding: 6px 0;
            cursor: pointer;
            font-size: 13px;
        }
        .filter-item:hover { background: #f3f2f1; margin: 0 -16px; padding-left: 16px; padding-right: 16px; }
        .filter-item.active { color: #0078d4; font-weight: 600; }
        .filter-count { margin-left: auto; color: #605e5c; font-size: 12px; }
        .filter-input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #8a8886;
            border-radius: 2px;
            font-size: 13px;
            margin-top: 8px;
        }
        
        /* Data Grid */
        .data-grid { flex: 1; background: white; overflow: auto; }
        .grid-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        .grid-table th {
            background: #f8f9fa;
            border-bottom: 1px solid #e1dfdd;
            padding: 8px 12px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .grid-table td {
            padding: 8px 12px;
            border-bottom: 1px solid #f3f2f1;
            vertical-align: middle;
        }
        .grid-table tr:hover { background: #f8f9fa; }
        .grid-table tr.selected { background: #deecf9; }
        
        /* Status Badges */
        .status-active { color: #107c10; background: #dff6dd; padding: 2px 6px; border-radius: 2px; }
        .status-inactive { color: #d83b01; background: #fed9cc; padding: 2px 6px; border-radius: 2px; }
        
        /* Right Details Panel */
        .details-panel {
            width: 320px;
            background: white;
            border-left: 1px solid #e1dfdd;
            overflow-y: auto;
        }
        .details-header {
            padding: 16px;
            border-bottom: 1px solid #e1dfdd;
            background: #f8f9fa;
        }
        .details-title { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
        .details-subtitle { color: #605e5c; font-size: 12px; }
        .details-content { padding: 16px; }
        .detail-section { margin-bottom: 24px; }
        .detail-section-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 12px;
            color: #323130;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 12px;
        }
        .detail-label { color: #605e5c; }
        .detail-value { font-weight: 500; }
    </style>
</head>
<body>
    <!-- Top Header -->
    <div class="top-header">
        <div class="company-name">LASANI Platform</div>
        <div class="nav-tabs">
            <div class="nav-tab">User Management</div>
            <div class="nav-tab">Tenant Management</div>
            <div class="nav-tab active">Reference Master</div>
            <div class="nav-tab">Commerce Master</div>
        </div>
        <div style="display: flex; gap: 12px;">
            <span>üîî</span>
            <span>üë§</span>
        </div>
    </div>

    <!-- Action Bar -->
    <div class="action-bar">
        <div class="page-title" id="pageTitle">Countries:</div>
        <button class="action-btn" onclick="showEntityMenu()">All ‚ñº</button>
        <button class="action-btn primary" onclick="addNew()">+ New</button>
        <button class="action-btn" onclick="refreshData()">üîÑ Refresh</button>
        <button class="action-btn">Process ‚ñº</button>
        <button class="action-btn">Actions ‚ñº</button>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Left Filter Panel -->
        <div class="filter-panel">
            <div class="filter-header">
                Views
                <span class="close-btn">√ó</span>
            </div>
            <div class="filter-section">
                <div class="filter-item active" onclick="filterByView('all')">
                    All
                    <span class="filter-count" id="count-all">0</span>
                </div>
                <div class="filter-item" onclick="filterByView('active')">
                    Active Only
                    <span class="filter-count" id="count-active">0</span>
                </div>
                <div class="filter-item" onclick="filterByView('inactive')">
                    Inactive Only
                    <span class="filter-count" id="count-inactive">0</span>
                </div>
                <div class="filter-item" onclick="filterByView('recent')">
                    Recently Modified
                    <span class="filter-count" id="count-recent">0</span>
                </div>
            </div>
            <div class="filter-section">
                <div style="font-weight: 600; margin-bottom: 8px;">Filter list by...</div>
                <div style="color: #605e5c; font-size: 12px; margin-bottom: 4px;">Search</div>
                <input type="text" class="filter-input" id="searchFilter" placeholder="Search all fields..." onchange="applyFilters()">
                <div style="color: #605e5c; font-size: 12px; margin: 12px 0 4px 0;">Status</div>
                <select class="filter-input" id="statusFilter" onchange="applyFilters()">
                    <option value="">All Status</option>
                    <option value="true">Active</option>
                    <option value="false">Inactive</option>
                </select>
                <div id="continentFilterSection" style="display: none;">
                    <div style="color: #605e5c; font-size: 12px; margin: 12px 0 4px 0;">Continent</div>
                    <select class="filter-input" id="continentFilter" onchange="applyFilters()">
                        <option value="">All Continents</option>
                        <option value="AF">Africa</option>
                        <option value="AS">Asia</option>
                        <option value="EU">Europe</option>
                        <option value="NA">North America</option>
                        <option value="SA">South America</option>
                        <option value="OC">Oceania</option>
                        <option value="AN">Antarctica</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Data Grid -->
        <div class="data-grid">
            <table class="grid-table">
                <thead id="tableHeader">
                    <!-- Dynamic headers -->
                </thead>
                <tbody id="entitiesTableBody">
                    <tr><td colspan="10" style="text-align: center; padding: 40px;">Loading...</td></tr>
                </tbody>
            </table>
        </div>

        <!-- Right Details Panel -->
        <div class="details-panel">
            <div class="details-header">
                <div class="details-title" id="detailsTitle">Select an item</div>
                <div class="details-subtitle" id="detailsSubtitle">Click on a row to view details</div>
            </div>
            <div class="details-content" id="detailsContent">
                <div style="text-align: center; color: #605e5c; padding: 40px 20px;">
                    <div style="font-size: 24px; margin-bottom: 10px;">üìã</div>
                    <div>Select a record to view detailed information</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Entity configurations
        const entityConfigs = {
            countries: {
                name: 'countries',
                displayName: 'Countries',
                icon: 'üåç',
                endpoint: 'countries',
                columns: [
                    { field: 'country_code', label: 'Code' },
                    { field: 'country_name', label: 'Name' },
                    { field: 'iso3_code', label: 'ISO3' },
                    { field: 'capital_city', label: 'Capital' },
                    { field: 'continent_code', label: 'Continent' },
                    { field: 'phone_prefix', label: 'Phone' },
                    { field: 'is_active', label: 'Status' }
                ]
            },
            regions: {
                name: 'regions',
                displayName: 'Regions',
                icon: 'üó∫Ô∏è',
                endpoint: 'regions',
                columns: [
                    { field: 'region_code', label: 'Code' },
                    { field: 'region_name', label: 'Name' },
                    { field: 'region_type', label: 'Type' },
                    { field: 'is_active', label: 'Status' }
                ]
            },
            languages: {
                name: 'languages',
                displayName: 'Languages',
                icon: 'üó£Ô∏è',
                endpoint: 'languages',
                columns: [
                    { field: 'language_code', label: 'Code' },
                    { field: 'language_name', label: 'Name' },
                    { field: 'iso3_code', label: 'ISO3' },
                    { field: 'native_name', label: 'Native Name' },
                    { field: 'direction', label: 'Direction' },
                    { field: 'is_active', label: 'Status' }
                ]
            },
            timezones: {
                name: 'timezones',
                displayName: 'Timezones',
                icon: 'üïê',
                endpoint: 'timezones',
                columns: [
                    { field: 'timezone_code', label: 'Code' },
                    { field: 'timezone_name', label: 'Name' },
                    { field: 'utc_offset_hours', label: 'UTC Offset' },
                    { field: 'supports_dst', label: 'DST' },
                    { field: 'is_active', label: 'Status' }
                ]
            },
            subdivisions: {
                name: 'subdivisions',
                displayName: 'Country Subdivisions',
                icon: 'üèõÔ∏è',
                endpoint: 'subdivisions',
                columns: [
                    { field: 'subdivision_code', label: 'Code' },
                    { field: 'subdivision_name', label: 'Name' },
                    { field: 'subdivision_type', label: 'Type' },
                    { field: 'is_active', label: 'Status' }
                ]
            },
            locales: {
                name: 'locales',
                displayName: 'Locales',
                icon: 'üåê',
                endpoint: 'locales',
                columns: [
                    { field: 'locale_code', label: 'Code' },
                    { field: 'locale_name', label: 'Name' },
                    { field: 'is_active', label: 'Status' }
                ]
            }
        };

        let currentEntity = 'countries';
        let entities = [];
        let selectedEntity = null;

        function switchEntity(entityName) {
            currentEntity = entityName;
            const config = entityConfigs[entityName];
            
            // Update page title
            document.getElementById('pageTitle').textContent = config.displayName + ':';
            
            // Show/hide continent filter for countries
            document.getElementById('continentFilterSection').style.display = 
                entityName === 'countries' ? 'block' : 'none';
            
            // Update table headers
            const headerRow = config.columns.map(col => `<th>${col.label}</th>`).join('');
            document.getElementById('tableHeader').innerHTML = `<tr>${headerRow}</tr>`;
            
            // Load data
            loadEntities();
        }

        function loadEntities() {
            // Mock data for demonstration
            const mockData = {
                countries: [
                    { country_code: 'US', country_name: 'United States', iso3_code: 'USA', capital_city: 'Washington D.C.', continent_code: 'NA', phone_prefix: '+1', is_active: true },
                    { country_code: 'IN', country_name: 'India', iso3_code: 'IND', capital_city: 'New Delhi', continent_code: 'AS', phone_prefix: '+91', is_active: true },
                    { country_code: 'GB', country_name: 'United Kingdom', iso3_code: 'GBR', capital_city: 'London', continent_code: 'EU', phone_prefix: '+44', is_active: true }
                ],
                regions: [
                    { region_code: 'ASIA-SOUTH', region_name: 'South Asia', region_type: 'Geographic', is_active: true },
                    { region_code: 'EUR-WEST', region_name: 'Western Europe', region_type: 'Geographic', is_active: true }
                ],
                languages: [
                    { language_code: 'EN', language_name: 'English', iso3_code: 'ENG', native_name: 'English', direction: 'LTR', is_active: true },
                    { language_code: 'HI', language_name: 'Hindi', iso3_code: 'HIN', native_name: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä', direction: 'LTR', is_active: true }
                ],
                timezones: [
                    { timezone_code: 'UTC', timezone_name: 'Coordinated Universal Time', utc_offset_hours: 0, supports_dst: false, is_active: true },
                    { timezone_code: 'EST', timezone_name: 'Eastern Standard Time', utc_offset_hours: -5, supports_dst: true, is_active: true }
                ],
                subdivisions: [
                    { subdivision_code: 'US-CA', subdivision_name: 'California', subdivision_type: 'State', is_active: true },
                    { subdivision_code: 'IN-MH', subdivision_name: 'Maharashtra', subdivision_type: 'State', is_active: true }
                ],
                locales: [
                    { locale_code: 'en-US', locale_name: 'English (United States)', is_active: true },
                    { locale_code: 'hi-IN', locale_name: 'Hindi (India)', is_active: true }
                ]
            };

            entities = mockData[currentEntity] || [];
            renderEntities();
            updateCounts();
        }

        function renderEntities() {
            const tbody = document.getElementById('entitiesTableBody');
            const config = entityConfigs[currentEntity];
            
            if (entities.length === 0) {
                tbody.innerHTML = `<tr><td colspan="${config.columns.length}" style="text-align: center;">No ${config.displayName.toLowerCase()} found</td></tr>`;
                return;
            }

            tbody.innerHTML = entities.map(entity => {
                const cells = config.columns.map(col => {
                    let value = entity[col.field] || '';
                    if (col.field === 'is_active' || col.field === 'supports_dst') {
                        value = `<span class="status-${value ? 'active' : 'inactive'}">${value ? 'Active' : 'Inactive'}</span>`;
                    }
                    return `<td>${value}</td>`;
                }).join('');
                
                return `<tr onclick="selectEntity('${entity[config.columns[0].field]}')">${cells}</tr>`;
            }).join('');
        }

        function selectEntity(entityKey) {
            // Remove previous selection
            document.querySelectorAll('.grid-table tr').forEach(row => row.classList.remove('selected'));
            
            // Select current row
            const row = event.target.closest('tr');
            if (row) {
                row.classList.add('selected');
            }

            const config = entityConfigs[currentEntity];
            const entity = entities.find(e => e[config.columns[0].field] === entityKey);
            
            if (entity) {
                selectedEntity = entity;
                showEntityDetails(entity);
            }
        }

        function showEntityDetails(entity) {
            const config = entityConfigs[currentEntity];
            
            document.getElementById('detailsTitle').textContent = entity[config.columns[1].field] || 'Entity Details';
            document.getElementById('detailsSubtitle').textContent = `${config.displayName} ‚Ä¢ ${entity[config.columns[0].field]}`;

            const detailsHtml = `
                <div class="detail-section">
                    <div class="detail-section-title">General Information</div>
                    ${config.columns.map(col => `
                        <div class="detail-row">
                            <span class="detail-label">${col.label}:</span>
                            <span class="detail-value">${entity[col.field] || '-'}</span>
                        </div>
                    `).join('')}
                </div>
                <div class="detail-section">
                    <div class="detail-section-title">System Information</div>
                    <div class="detail-row">
                        <span class="detail-label">Created:</span>
                        <span class="detail-value">${entity.created_at || 'N/A'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Updated:</span>
                        <span class="detail-value">${entity.updated_at || 'N/A'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Version:</span>
                        <span class="detail-value">${entity.version || '1'}</span>
                    </div>
                </div>
            `;

            document.getElementById('detailsContent').innerHTML = detailsHtml;
        }

        function updateCounts() {
            const total = entities.length;
            const active = entities.filter(e => e.is_active).length;
            const inactive = total - active;
            const recent = 0; // Mock value

            document.getElementById('count-all').textContent = total;
            document.getElementById('count-active').textContent = active;
            document.getElementById('count-inactive').textContent = inactive;
            document.getElementById('count-recent').textContent = recent;
        }

        function filterByView(view) {
            // Update active filter item
            document.querySelectorAll('.filter-item').forEach(item => item.classList.remove('active'));
            event.target.classList.add('active');
        }

        function applyFilters() {
            // Filter implementation
        }

        function addNew() {
            alert(`Add new ${entityConfigs[currentEntity].displayName.toLowerCase()}`);
        }

        function refreshData() {
            loadEntities();
        }

        // Initialize
        switchEntity('countries');
    </script>
</body>
</html>